{"ast":null,"code":"import { createEditTodoService } from \"./EditTodoService\";\nimport { HttpStatusCode } from \"../../HttpStatusCode\";\nexport function EditTodoPresenter(view, service) {\n  let self = this;\n\n  self.load = async function (todoId) {\n    view.showSpinner();\n    view.cleanMessages();\n    const response = await service.find(todoId);\n\n    if (response.statusCode === HttpStatusCode.internalServerError) {\n      view.showInternalServerError();\n      return;\n    }\n\n    if (response.statusCode === HttpStatusCode.badRequest) {\n      view.showNotFound();\n      return;\n    }\n\n    throw 'not implemented';\n  };\n\n  self.update = async function (todo) {\n    view.cleanMessages();\n    view.showSpinner();\n    const response = await service.update(todo);\n    view.hideSpinner();\n\n    if (response.statusCode === HttpStatusCode.internalServerError) {\n      view.showInternalServerError();\n      return;\n    }\n\n    if (response.statusCode === HttpStatusCode.badRequest) {\n      view.showErrors(response.errors);\n      return;\n    }\n\n    view.showUpdatedTodoMessage();\n  };\n\n  self.cancel = function () {\n    view.redirectToPageBefore();\n  };\n}\nexport function createEditTodoPresenter(view) {\n  const service = createEditTodoService();\n  return new EditTodoPresenter(view, service);\n}","map":{"version":3,"sources":["/home/seymourpoler/Documents/code/GitHub/PetProjects/TuduManayer/java/TuduManager/web.react/src/todo/edit/EditTodoPresenter.js"],"names":["createEditTodoService","HttpStatusCode","EditTodoPresenter","view","service","self","load","todoId","showSpinner","cleanMessages","response","find","statusCode","internalServerError","showInternalServerError","badRequest","showNotFound","update","todo","hideSpinner","showErrors","errors","showUpdatedTodoMessage","cancel","redirectToPageBefore","createEditTodoPresenter"],"mappings":"AAAA,SAASA,qBAAT,QAAsC,mBAAtC;AACA,SAASC,cAAT,QAA+B,sBAA/B;AAEA,OAAO,SAASC,iBAAT,CAA2BC,IAA3B,EAAiCC,OAAjC,EAAyC;AAC5C,MAAIC,IAAI,GAAG,IAAX;;AAEAA,EAAAA,IAAI,CAACC,IAAL,GAAY,gBAAeC,MAAf,EAAsB;AAC9BJ,IAAAA,IAAI,CAACK,WAAL;AACAL,IAAAA,IAAI,CAACM,aAAL;AACA,UAAMC,QAAQ,GAAG,MAAMN,OAAO,CAACO,IAAR,CAAaJ,MAAb,CAAvB;;AACA,QAAGG,QAAQ,CAACE,UAAT,KAAwBX,cAAc,CAACY,mBAA1C,EAA8D;AAC1DV,MAAAA,IAAI,CAACW,uBAAL;AACA;AACH;;AACD,QAAGJ,QAAQ,CAACE,UAAT,KAAwBX,cAAc,CAACc,UAA1C,EAAqD;AACjDZ,MAAAA,IAAI,CAACa,YAAL;AACA;AACH;;AACD,UAAM,iBAAN;AACH,GAbD;;AAeAX,EAAAA,IAAI,CAACY,MAAL,GAAc,gBAAeC,IAAf,EAAqB;AAC/Bf,IAAAA,IAAI,CAACM,aAAL;AACAN,IAAAA,IAAI,CAACK,WAAL;AACA,UAAME,QAAQ,GAAG,MAAMN,OAAO,CAACa,MAAR,CAAeC,IAAf,CAAvB;AACAf,IAAAA,IAAI,CAACgB,WAAL;;AACA,QAAGT,QAAQ,CAACE,UAAT,KAAwBX,cAAc,CAACY,mBAA1C,EAA8D;AAC1DV,MAAAA,IAAI,CAACW,uBAAL;AACA;AACH;;AACD,QAAGJ,QAAQ,CAACE,UAAT,KAAwBX,cAAc,CAACc,UAA1C,EAAqD;AACjDZ,MAAAA,IAAI,CAACiB,UAAL,CAAgBV,QAAQ,CAACW,MAAzB;AACA;AACH;;AACDlB,IAAAA,IAAI,CAACmB,sBAAL;AACH,GAdD;;AAgBAjB,EAAAA,IAAI,CAACkB,MAAL,GAAc,YAAY;AACtBpB,IAAAA,IAAI,CAACqB,oBAAL;AACH,GAFD;AAGH;AAED,OAAO,SAASC,uBAAT,CAAiCtB,IAAjC,EAAuC;AAC1C,QAAMC,OAAO,GAAGJ,qBAAqB,EAArC;AACA,SAAO,IAAIE,iBAAJ,CAAsBC,IAAtB,EAA4BC,OAA5B,CAAP;AACH","sourcesContent":["import { createEditTodoService } from \"./EditTodoService\";\nimport { HttpStatusCode } from \"../../HttpStatusCode\";\n\nexport function EditTodoPresenter(view, service){\n    let self = this;\n\n    self.load = async function(todoId){\n        view.showSpinner();\n        view.cleanMessages();\n        const response = await service.find(todoId);\n        if(response.statusCode === HttpStatusCode.internalServerError){\n            view.showInternalServerError();\n            return;\n        }\n        if(response.statusCode === HttpStatusCode.badRequest){\n            view.showNotFound();\n            return;\n        }\n        throw 'not implemented';\n    }\n\n    self.update = async function(todo) {\n        view.cleanMessages();\n        view.showSpinner();\n        const response = await service.update(todo);\n        view.hideSpinner();\n        if(response.statusCode === HttpStatusCode.internalServerError){\n            view.showInternalServerError();\n            return;\n        }\n        if(response.statusCode === HttpStatusCode.badRequest){\n            view.showErrors(response.errors);\n            return;\n        }\n        view.showUpdatedTodoMessage();\n    }\n\n    self.cancel = function () {\n        view.redirectToPageBefore();\n    }\n}\n\nexport function createEditTodoPresenter(view) {\n    const service = createEditTodoService();\n    return new EditTodoPresenter(view, service);\n}"]},"metadata":{},"sourceType":"module"}